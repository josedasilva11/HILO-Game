function gIcon(){}function gHelper(){}function gApp(){}function gUI(){}function gCards(){}function game(){}gIcon.game="",gIcon.close='<svg xmlns="http://www.w3.org/2000/svg" fill="#FFF" width="24" height="24" viewBox="0 0 24 24"><path d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm4.151 17.943l-4.143-4.102-4.117 4.159-1.833-1.833 4.104-4.157-4.162-4.119 1.833-1.833 4.155 4.102 4.106-4.16 1.849 1.849-4.1 4.141 4.157 4.104-1.849 1.849z"/></svg>',gIcon.sound='<svg xmlns="http://www.w3.org/2000/svg" fill="#FFF" width="24" height="24" viewBox="0 0 24 24"><path d="M5 17h-5v-10h5v10zm2-10v10l9 5v-20l-9 5zm11.008 2.093c.742.743 1.2 1.77 1.198 2.903-.002 1.133-.462 2.158-1.205 2.9l1.219 1.223c1.057-1.053 1.712-2.511 1.715-4.121.002-1.611-.648-3.068-1.702-4.125l-1.225 1.22zm2.142-2.135c1.288 1.292 2.082 3.073 2.079 5.041s-.804 3.75-2.096 5.039l1.25 1.254c1.612-1.608 2.613-3.834 2.616-6.291.005-2.457-.986-4.681-2.595-6.293l-1.254 1.25z"/></svg>',gIcon.help='<svg xmlns="http://www.w3.org/2000/svg" fill="#FFF" width="24" height="24" viewBox="0 0 24 24"><path d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm0 18.25c-.69 0-1.25-.56-1.25-1.25s.56-1.25 1.25-1.25c.691 0 1.25.56 1.25 1.25s-.559 1.25-1.25 1.25zm1.961-5.928c-.904.975-.947 1.514-.935 2.178h-2.005c-.007-1.475.02-2.125 1.431-3.468.573-.544 1.025-.975.962-1.821-.058-.805-.73-1.226-1.365-1.226-.709 0-1.538.527-1.538 2.013h-2.01c0-2.4 1.409-3.95 3.59-3.95 1.036 0 1.942.339 2.55.955.57.578.865 1.372.854 2.298-.016 1.383-.857 2.291-1.534 3.021z"/></svg>',gIcon.menu='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="#FFF"><path d="M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm6 17h-12v-2h12v2zm0-4h-12v-2h12v2zm0-4h-12v-2h12v2z"/></svg>',gIcon.money='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm1 16.947v1.053h-1v-.998c-1.035-.018-2.106-.265-3-.727l.455-1.644c.956.371 2.229.765 3.225.54 1.149-.26 1.384-1.442.114-2.011-.931-.434-3.778-.805-3.778-3.243 0-1.363 1.039-2.583 2.984-2.85v-1.067h1v1.018c.724.019 1.536.145 2.442.42l-.362 1.647c-.768-.27-1.617-.515-2.443-.465-1.489.087-1.62 1.376-.581 1.916 1.712.805 3.944 1.402 3.944 3.547.002 1.718-1.343 2.632-3 2.864z"/></svg>',gIcon.star='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 .587l3.668 7.568 8.332 1.151-6.064 5.828 1.48 8.279-7.416-3.967-7.417 3.967 1.481-8.279-6.064-5.828 8.332-1.151z"/></svg>',gIcon.minus='<svg xmlns="http://www.w3.org/2000/svg" fill="#FFF" width="24" height="24" viewBox="0 0 24 24"><path d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm7 14h-14v-4h14v4z"/></svg>',gIcon.plus='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm7 14h-5v5h-4v-5h-5v-4h5v-5h4v5h5v4z"/></svg>',gIcon.down='<svg class="lower" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm0 17l-6-8h12l-6 8z"/></svg>',gIcon.up='<svg class="higher" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 24c6.627 0 12-5.373 12-12s-5.373-12-12-12-12 5.373-12 12 5.373 12 12 12zm0-17l6 8h-12l6-8z"/></svg>',gHelper.asyncInterval=async function(n,d,i=5){return new Promise((e,a)=>{const t=setInterval(async()=>{await n()?(e(),clearInterval(t)):i<=1&&(a(),clearInterval(t)),i--},d)})},gHelper.isNumeric=function(e){return"string"==typeof e&&(!isNaN(e)&&!isNaN(parseFloat(e)))},gHelper.clamp=function(e,a,t){return Math.min(Math.max(e,a),t)},gApp.config={lang:"en",volume:!0},gApp.sounds={click:null,whoosh:null},gApp.lang=null,gApp.money=1e3,gApp.bet=0,gApp.pot=0,gApp.wins=0,gApp.bestStreak=2,gApp.bestTotal=gApp.money,gApp.canBet=!0,gApp.canCashout=!1,gApp.multiplier=1,gApp.Init=async function(a){return fetch(`lang/${gApp.config.lang}.json`).then(e=>e.json()).then(e=>{gApp.lang=e;e=document.querySelector(a);gUI.Init(e),gUI.LoadScreen(),gApp.InitSounds()}).catch(()=>{console.error(`Could not load ${gApp.config.lang}.json.`)})},gApp.ToggleBetForm=function(){gUI.betButton.innerHTML="Make Bet",gApp.canBet?(gUI.betInput.max=gApp.money,gUI.betInput.value=.1,gUI.betForm.classList.remove("hidden"),gUI.betButton.classList.remove("hidden")):(gUI.betForm.classList.add("hidden"),gApp.canCashout?gUI.betButton.innerHTML="Cashout "+gApp.pot+"$":gUI.betButton.classList.add("hidden"))},gApp.SetBet=function(){0<gUI.betInput.value.length&&!gHelper.isNumeric(gUI.betInput.value)&&(gUI.betInput.value=.1.toFixed(2)),gUI.betInput.value>gApp.money&&(gUI.betInput.value=gApp.money.toFixed(2)),gApp.money<=0&&(gUI.betInput.value=.1.toFixed(2))},gApp.AddBet=function(e){gUI.betInput.value=gHelper.clamp(parseFloat(gUI.betInput.value)+e,.1,gApp.money).toFixed(2),gApp.money<=0&&(gUI.betInput.value=.1)},gApp.MakeBet=function(){gApp.canBet?(gApp.bet=parseFloat(gUI.betInput.value),gApp.pot+=gApp.bet,gApp.money-=gApp.bet,gUI.displayMoney&&(gUI.title.innerHTML=gApp.money.toFixed(2)+"$",gApp.money<=0?gUI.title.classList.add("debt"):gUI.title.classList.remove("debt")),gApp.canBet=!1,gUI.ToggleBetForm(),game.NewRound()):gApp.canCashout&&game.Cashout()},gApp._=function(e){return e.split(".").reduce((e,a)=>e[a],gApp.lang)},gApp.InitSounds=function(){gApp.sounds.click=new Audio("audio/click.wav"),gApp.sounds.whoosh=new Audio("audio/whoosh.mp3")},gApp.PlaySound=function(e){gApp.config.volume&&e&&e.play()},gApp.LoadImage=function(n){return new Promise((e,a)=>{var t=new Image;t.onload=()=>{console.log("Loaded "+n),e(t)},t.onerror=()=>a("Could not load image: "+n),t.src=n})},gUI.gameFrame=null,gUI.betButtons=[1,10,50,100],gUI.betButtonsPerRow=2,gUI.displayMoney=!0,gUI.sidebarActive=!1,gUI.Init=async function(e){gUI.gameEl=gUI.El("div",e,"game"),gUI.container=gUI.El("div",gUI.gameEl,"game-main");e=gUI.El("div",gUI.container,"game-frame");gUI.gameFrame=gUI.El("div",e,"game-frame-inner"),gUI.betFrame=gUI.El("div",gUI.container,"bet-frame"),gUI.InitWinFrame(),gUI.InitBetForm(),gUI.InitModal(),gUI.InitAppbar(),gUI.InitSidebar()},gUI.InitAppbar=function(){var e=gUI.El("div",gUI.gameEl,"game-appbar"),a=gUI.El("div",e,"game-header",["game-header"]),t=gUI.El("a",a,"game-app-icon",["game-app-icon","game-btn"]);gUI.title=gUI.El("a",a,"game-title",["game-title","game-btn"]),gUI.displayMoney?(t.innerHTML=gIcon.money,gUI.title.innerHTML=gApp.money+" $",t.classList.add("money"),gUI.title.classList.add("money")):(t.innerHTML=gIcon.game,gUI.title.innerHTML=gApp._("game.name"));t=gUI.El("div",e,"game-options",["game-options"]),e=gUI.El("a",t,"game-btn",["game-btn"]);e.innerHTML=gIcon.help,e.addEventListener("click",()=>{gUI.ShowModal(gApp._("modal.how_to_play.title"),gApp._("modal.how_to_play.content")),gUI.modalFooter.innerHTML="",gUI.modalFooter.appendChild(gUI.ButtonPrimary("Got It!",gUI.HideModal))});t=gUI.El("a",t,"game-btn",["game-btn"]);t.innerHTML=gIcon.menu,t.onclick=gUI.ToggleSidebar},gUI.InitSidebar=function(){gUI.sidebar=gUI.El("div",gUI.gameEl,"game-sidebar"),gUI.sidebarOptions=gUI.El("div",gUI.sidebar,"game-sidebar-options"),gUI.AddSidebarOption(gIcon.sound,"Volume",()=>{gApp.config.volume=!gApp.config.volume},!0,!0),gUI.AddSidebarOption(gIcon.help,"How to Play",()=>{gUI.ShowModal(gApp._("modal.how_to_play.title"),gApp._("modal.how_to_play.content")),gUI.modalFooter.innerHTML="",gUI.modalFooter.appendChild(gUI.ButtonPrimary("Got It!",gUI.HideModal))})},gUI.ShowLeaderboard=function(){gUI.ShowModal("Leaderboard","").classList.add("wide"),gUI.modalContent.innerHTML="",gUI.modalFooter.innerHTML="",gUI.modalFooter.appendChild(gUI.ButtonSecondary("Close",gUI.HideModal))},gUI.InitModal=function(){var e=gUI.El("div",gUI.gameEl,"game-modal-container"),a=gUI.El("div",e,"game-modal",["game-modal"]),t=gUI.El("div",a,null,["game-modal-content"]),e=gUI.El("div",t,"modal-header",["game-modal-header"]),a=gUI.El("div",t,null,["game-modal-body-container"]);gUI.modalFooter=gUI.El("div",t,"modal-footer",["game-modal-footer"]);gUI.El("div",e,"modal-title",["game-modal-title"]);e=gUI.El("div",e,"modal-close",["game-modal-close"]);e.innerHTML=gIcon.close,e.onclick=gUI.HideModal,gUI.modalContent=gUI.El("div",a,"modal-content",["game-modal-body"])},gUI.InitWinFrame=function(){gUI.winsPanel=gUI.El("div",gUI.betFrame,"wins-panel");var e=gUI.El("div",gUI.winsPanel,"wins-container");gUI.El("div",e,"wins-label").innerHTML="Score",gUI.score=gUI.El("div",e,"wins-total"),gUI.score.innerHTML=gApp.wins,gUI.multiplier=gUI.El("div",gUI.winsPanel,"wins-multiplier"),gUI.multiplier.innerHTML="x"+gApp.multiplier+" Score Multiplier!"},gUI.InitBetForm=function(){gUI.betFormContainer=gUI.El("div",gUI.betFrame,"bet-form"),gUI.betForm=gUI.El("div",gUI.betFormContainer,"bet-amount");var e=gUI.Row(null,null,"20px");gUI.betForm.appendChild(e);var a=gUI.Col(null,"50%");e.appendChild(a);var t=gUI.InputNumber("Bet Amount ($)",()=>{gApp.SetBet(gUI.betInput)},()=>{gApp.AddBet(-.1)},()=>{gApp.AddBet(.1)},.1.toFixed(2));gUI.betInput=t.querySelector("input"),gUI.betInput.setAttribute("novalidate","novalidate"),a.appendChild(t);a=gUI.Col();e.appendChild(a);var n=gUI.El("div",a,"bet-shortcut-buttons"),d=0,i=gUI.Row(null,null,"10px");i.style.marginBottom="10px",n.appendChild(i);for(var g=0;g<gUI.betButtons.length;g++){var l=gUI.Col(null,"50%"),o=gUI.ButtonOutline(gUI.betButtons[g]+"$",null,!0);o.bet=gUI.betButtons[g],o.onclick=e=>{gApp.AddBet(e.target.bet)},l.appendChild(o),i.appendChild(l),d++,g<gUI.betButtons.length-1&&d>=gUI.betButtonsPerRow&&(i=gUI.Row(null,null,"10px"),n.appendChild(i),d=0)}e=gUI.Row();gUI.betFrame.appendChild(e);a=gUI.Col();e.appendChild(a),gUI.betButton=gUI.ButtonPrimary("Make Bet"),gUI.betButton.onclick=()=>{gApp.MakeBet()},a.appendChild(gUI.betButton)},gUI.ToggleBetForm=function(){gApp.canBet?(gUI.winsPanel.classList.remove("active"),gUI.multiplier.classList.remove("active"),gUI.score.innerHTML=0,gUI.betForm.parentNode.classList.remove("hidden"),gUI.betButton.classList.remove("hidden"),gUI.betButton.innerHTML="Make Bet",gUI.betInput.value=.1.toFixed(2)):(gUI.winsPanel.classList.add("active"),gUI.betForm.parentNode.classList.add("hidden"),gUI.betButton.classList.add("disabled"),gUI.betButton.innerHTML="Cashout")},gUI.ToggleCashout=function(){gApp.canCashout?gUI.betButton.innerHTML="Cashout "+gApp.pot.toFixed(2)+"$":gUI.betButton.innerHTML="Make Bet",gUI.betButton.classList.remove("disabled")},gUI.AddSidebarOption=function(e,a,t,n=!1,d=!1){var i=gUI.El("li",gUI.sidebarOptions,null,["game-sidebar-option"]),g=gUI.El("a",i,null,["game-sidebar-option-link","game-btn"]);n||(g.onclick=t);i=gUI.El("div",g,null,["game-sidebar-label"]);gUI.El("div",i,null,["game-sidebar-icon"]).innerHTML=e,i.innerHTML+=a,n&&(d=gUI.SwitchElement(d),g.appendChild(d),d.querySelector("input").addEventListener("click",t))},gUI.ToggleSidebar=function(){gUI.sidebarActive=!gUI.sidebarActive,document.querySelector("#game-sidebar").classList.toggle("active"),gApp.PlaySound(gApp.sounds.whoosh)},gUI.ShowModal=function(e,a,t=!0,n=!0){gUI.sidebarActive&&gUI.ToggleSidebar();var d=document.querySelector("#modal-header"),i=document.querySelector("#modal-title");e?(i.innerHTML=e,d.classList.add("active")):d.classList.remove("active");d=document.querySelector("#modal-close");n?d.classList.add("active"):d.classList.remove("active"),a&&(document.querySelector("#modal-content").innerHTML=a);a=document.querySelector("#modal-footer");t?a.classList.add("active"):a.classList.remove("active");t=document.querySelector("#game-modal-container"),a=document.querySelector("#game-modal");return a.classList.remove("wide"),t.classList.add("active"),a.classList.add("active"),a},gUI.HideModal=function(){document.querySelector("#game-modal-container").classList.remove("active"),document.querySelector(".game-modal").classList.remove("active")},gUI.LoadScreen=function(){var e=document.createElement("div");e.classList.add("game-loading"),e.appendChild(gUI.LoadingRing());var a=document.createElement("h1");a.classList.add("game-loading-text"),a.innerHTML="Loading...",e.appendChild(a),gUI.modalContent.appendChild(e),gUI.ShowModal(null,null,!1)},gUI.Reset=function(){},gUI.El=function(e,a=null,t=null,n=null){e=document.createElement(e);return t&&(e.id=t),n&&e.classList.add(...n),a&&a.appendChild(e),e},gUI.Row=function(e=null,a=null,t=null){var n=document.createElement("div");return n.classList.add("game-row"),e&&(n.id=e),a&&(n.style.width=a),t&&(n.style.gap=t),n},gUI.Col=function(e=null,a=null){var t=document.createElement("div");return t.classList.add("game-col"),e&&(t.id=e),a?(t.style.width="100%",t.style.maxWidth=a):t.style.flex="1 1 auto",t},gUI.ButtonPrimary=function(e,a,t=!1){var n=document.createElement("button");return n.classList.add("game-btn-default"),n.classList.add("game-btn-primary"),t&&n.classList.add("game-btn-small"),n.innerHTML=e,n.onclick=a,n.addEventListener("click",function(){gApp.PlaySound(gApp.sounds.click)}),n},gUI.ButtonSecondary=function(e,a,t=!1){var n=document.createElement("button");return n.classList.add("game-btn-default"),n.classList.add("game-btn-secondary"),t&&n.classList.add("game-btn-small"),n.innerHTML=e,n.onclick=a,n.addEventListener("click",function(){gApp.PlaySound(gApp.sounds.click)}),n},gUI.ButtonOutline=function(e,a,t=!1){var n=document.createElement("button");return n.classList.add("game-btn-default"),n.classList.add("game-btn-outline"),t&&n.classList.add("game-btn-small"),n.innerHTML=e,n.onclick=a,n.addEventListener("click",function(){gApp.PlaySound(gApp.sounds.click)}),n},gUI.InputText=function(e,a,t=""){var n=document.createElement("input");n.type="text",t&&(n.value=t),a&&(n.onchange=a);a=document.createElement("label");a.innerHTML=e;e=document.createElement("div");return e.classList.add("game-field-group"),e.appendChild(a),e.appendChild(n),e},gUI.InputNumber=function(e,a,t,n,d=""){var i=gUI.Row();i.classList.add("game-field-group"),i.style.flexDirection="column";var g=gUI.Col();i.appendChild(g);var l=document.createElement("label");l.innerHTML=e,g.appendChild(l);e=gUI.Row();i.appendChild(e);g=gUI.Col(null);e.appendChild(g);l=gUI.El("a",g,"bet-amount-minus",["bet-amount-minus"]);l.innerHTML=gIcon.minus,l.addEventListener("click",t);g=gUI.Col(null,"60%");e.appendChild(g);t=document.createElement("input");g.appendChild(t),t.type="number",d&&(t.value=d),a&&t.addEventListener("keyup",a);g=gUI.Col();e.appendChild(g);g=gUI.El("a",g,"bet-amount-plus",["bet-amount-plus"]);return g.innerHTML=gIcon.plus,g.addEventListener("click",n),i},gUI.SwitchElement=function(e){var a=gUI.El("div",null,null,["switch"]),t=gUI.El("label",a,null,["toggle-control"]),n=gUI.El("input",t,null,["toggle-control-input"]);return n.type="checkbox",gUI.El("span",t,null,["control"]),e&&(n.checked=!0),a},gUI.LoadingRing=function(){var e=document.createElement("div");for(e.classList.add("lds-ring"),i=0;i<4;i++){var a=document.createElement("div");e.appendChild(a)}return e},gCards.cards=[],gCards.deck=[],gCards.backImg=null,gCards.Init=function(){for(var e=[],a=["clubs","diamonds","hearts","spades"],t=0;t<a.length;t++){for(var n=2;n<=10;n++){var d={suit:a[t],value:n,name:n,imageUrl:`img/cards/${n}_of_${a[t]}.png`,image:null};e.push(d)}d={suit:a[t],value:11,name:"jack",imageUrl:`img/cards/jack_of_${a[t]}2.png`,image:null};e.push(d);d={suit:a[t],value:12,name:"queen",imageUrl:`img/cards/queen_of_${a[t]}2.png`,image:null};e.push(d);d={suit:a[t],value:13,name:"king",imageUrl:`img/cards/king_of_${a[t]}2.png`,image:null};e.push(d);d={suit:a[t],value:14,name:"ace",imageUrl:`img/cards/ace_of_${a[t]}.png`,image:null};e.push(d)}return gCards.cards=e,new Promise((e,a)=>{setTimeout(()=>{gCards.loadImages().then(()=>{e()})},500)})},gCards.loadImages=function(){for(var e=[],t=0;t<gCards.cards.length;t++){var n=new Image;n.classList.add("playing-card"),gCards.cards[t].image=n,e.push(new Promise(function(e,a){n.onload=function(){e()},n.src=gCards.cards[t].imageUrl}))}return gCards.backImg=new Image,gCards.backImg.classList.add("playing-card"),e.push(new Promise(function(e,a){gCards.backImg.onload=function(){e()},gCards.backImg.src="img/cards/back.png"})),Promise.all(e)},gCards.NewDeck=function(){gCards.deck=gCards.cards.slice()},gCards.Shuffle=function(){if(0==gCards.deck.length)return!1;gCards.deck.sort(function(){return.5-Math.random()})},gCards.Random=function(){return 0!=gCards.deck.length&&gCards.deck[Math.floor(Math.random()*gCards.deck.length)]},gCards.Take=function(){return gCards.deck.shift()},gCards.Div=function(e=null){var a=document.createElement("div");return a.classList.add("playing-card"),e?a.appendChild(e.image):a.appendChild(gCards.backImg.cloneNode(!0)),a},game.skipForm=!1,game.gameType="free",game.canDraw=!0,game.canBet=!0,game.canPredict=!0,game.canPlay=!1,game.win=!1,game.prediction=0,game.playerName="",game.playerWallet="",game.multiplierCount=0,game.multiplierGoal=5,game.ricardoGif=null,game.Init=function(e){gApp.sounds.draw=new Audio("audio/cards/draw.wav"),gApp.sounds.lose=new Audio("audio/lose.wav"),gApp.sounds.win=new Audio("audio/win.wav"),gApp.sounds.ricardo=new Audio("audio/ricardo.wav"),gApp.Init(e).then(()=>{console.log("App initialized"),gCards.Init().then(()=>{var e,a,t;game.ricardoGif=new Image,game.ricardoGif.src="img/ricardo.gif",gUI.HideModal(),game.skipForm?game.Start("free"):(gUI.ShowModal(gApp._("modal.intro.title"),gApp._("modal.intro.content"),!0,!1),t=document.getElementById("modal-content"),(e=gUI.El("form",t,"new-game-form",["game-form"])).setAttribute("method","get"),e.addEventListener("submit",e=>{e.preventDefault()}),game.walletInput=gUI.InputText("BSC Wallet Address",null,null,null),game.walletInput.querySelector("input").setAttribute("required",""),e.appendChild(game.walletInput),game.nameEl=gUI.InputText("Name",null,null,null),game.nameEl.querySelector("input").setAttribute("required",""),e.appendChild(game.nameEl),a=document.getElementById("modal-footer"),t=gUI.ButtonSecondary("Play for Fun",()=>{game.Start("free")}),a.appendChild(t),t=gUI.ButtonPrimary("Continue",()=>{e.reportValidity(),e.checkValidity()&&(game.playerName=game.nameEl.querySelector("input").value,game.playerWallet=game.walletInput.querySelector("input").value,game.Start("paid"))}),a.appendChild(t))})})},game.Start=function(e){gUI.HideModal(),game.gameType="paid",game.NewGame()},game.NewGame=function(){gCards.NewDeck();var e=gUI.Row("player-cards","80%","20px");gUI.gameFrame.appendChild(e);var a=gUI.Col("active-card"),t=gCards.Random();game.activeCard=t,a.appendChild(t.image),e.appendChild(a),(a=gUI.Col("card-deck")).appendChild(gCards.Div()),e.appendChild(a);e=gUI.Row("new-game-buttons");gUI.gameFrame.appendChild(e);a=gUI.ButtonOutline('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm3.222 18.917c5.666-5.905-.629-10.828-5.011-7.706l1.789 1.789h-6v-6l1.832 1.832c7.846-6.07 16.212 4.479 7.39 10.085z"/></svg>',game.TakeCard);e.appendChild(a)},game.NewRound=function(){document.getElementById("new-game-buttons").remove();var e=document.getElementById("player-cards");e.style.width="50%";var a=gUI.Col("prev-card");e.prepend(a);var t=gUI.Row("game-cards","80%","20px");gUI.gameFrame.appendChild(t);t=gUI.Row("game-buttons","100%","20px");gUI.gameFrame.appendChild(t);a=gUI.Col();t.appendChild(a);var n=gUI.ButtonPrimary("Low or Same",game.LowOrSame);n.id="low-btn",a.appendChild(n),n.addEventListener("click",()=>{game.SetLow()}),gApp.wins=1;e=game.CalculateOdds();gApp.wins=0;n=document.createElement("div");n.id="low-odds",n.classList.add("odds"),n.innerHTML="<b>Win:</b> "+e[0].toFixed(2)+"$",a.appendChild(n);a=gUI.Col("predict-icon","32px");t.appendChild(a);a=gUI.Col();t.appendChild(a);t=gUI.ButtonSecondary("High or Same",game.LowOrSame);t.id="high-btn",a.appendChild(t),t.addEventListener("click",()=>{game.SetHigh()}),(n=document.createElement("div")).id="high-odds",n.classList.add("odds"),n.innerHTML="<b>Win:</b> "+e[1].toFixed(2)+"$",a.appendChild(n),game.Deal()},game.Reset=function(){game.win=!1,gApp.wins=0,gApp.pot=0,gApp.multiplier=1,game.multiplierCount=0,game.win=!1,game.canDraw=!0,game.canPredict=!0,gApp.canCashout=!1,gApp.canBet=!0,gUI.ToggleBetForm(),gUI.ToggleCashout(),gUI.gameFrame.innerHTML=""},game.NewCard=function(){var t=document.getElementById("active-card"),n=document.getElementById("card-deck"),e=gCards.backImg.cloneNode(!0);return e.classList.add("card-dealt"),e.classList.add("playing-card"),e.addEventListener("animationend",()=>{var e=gCards.Random();t.card=e,t.lastChild.remove();var a=e.image.cloneNode(!0);a.classList.add("card-turn"),t.appendChild(a),game.activeCard=e,a.addEventListener("animationend",()=>{t.firstChild.remove(),game.canDraw=!0,n.classList.remove("card-deck-take"),game.ResetPrediction()})}),e},game.TakeCard=function(){if(!game.canDraw)return!1;game.canDraw=!1,gApp.PlaySound(gApp.sounds.draw);var e=game.NewCard();document.getElementById("active-card").appendChild(e),document.getElementById("card-deck").classList.add("card-deck-take")},game.StartGame=function(){var e,a,t,n;gApp.canCashout?game.Cashout():(gApp.canBet=!1,document.getElementById("new-game-buttons").remove(),(e=document.getElementById("player-cards")).style.width="80%",e.style.marginBottom="20px",a=gUI.Col("prev-card"),e.prepend(a),t=gUI.Row("game-cards","60%","20px"),gUI.gameFrame.appendChild(t),game.Deal(),t=gUI.Row("game-buttons","80%","20px"),gUI.gameFrame.appendChild(t),a=gUI.Col(),t.appendChild(a),(n=gUI.ButtonPrimary("Low or Same",game.LowOrSame)).id="low-btn",a.appendChild(n),n.addEventListener("click",()=>{game.SetLow()}),e=game.CalculateOdds(),console.log(e),(n=document.createElement("div")).id="low-odds",n.classList.add("odds"),n.innerHTML="<b>Win:</b> "+e[0].toFixed(2)+"$",a.appendChild(n),(a=gUI.Col()).id="predict-icon",t.appendChild(a),a.style.maxWidth="30px",a.innerHTML="",a=gUI.Col(),t.appendChild(a),(t=gUI.ButtonSecondary("High or Same",game.LowOrSame)).id="high-btn",a.appendChild(t),t.addEventListener("click",()=>{game.SetHigh()}),(n=document.createElement("div")).id="high-odds",n.classList.add("odds"),n.innerHTML="<b>Win:</b> "+e[1].toFixed(2)+"$",a.appendChild(n))},game.CalculateOdds=function(){var e=gHelper.clamp(Math.abs(14-game.activeCard.value),1,14),a=gHelper.clamp(Math.abs(2-game.activeCard.value),1,14);return[e*(gApp.bet*gApp.wins),a*(gApp.bet*gApp.wins)]},game.SetLow=function(){game.canPredict&&(document.getElementById("low-btn").classList.remove("hidden"),document.getElementById("high-btn").classList.add("hidden"),document.getElementById("game-cards").classList.remove("hidden"),document.getElementById("predict-icon").innerHTML=gIcon.down,game.prediction=0,game.canPlay=!0)},game.SetHigh=function(){game.canPredict&&(document.getElementById("low-btn").classList.add("hidden"),document.getElementById("high-btn").classList.remove("hidden"),document.getElementById("game-cards").classList.remove("hidden"),document.getElementById("predict-icon").innerHTML=gIcon.up,game.prediction=1,game.canPlay=!0)},game.RevealCard=function(e){gApp.PlaySound(gApp.sounds.draw);var t=e.target.parentNode;t.classList.add("card-flip"),t.addEventListener("animationend",()=>{var e,a;t.classList.contains("card-flip")&&(t.classList.remove("card-flip"),t.classList.add("card-reveal"),t.innerHTML="",a=(e=gCards.Random()).image.cloneNode(!0),t.appendChild(a),game.selectedCard=e,t.addEventListener("animationend",e=>{game.canPlay=!1,game.canPredict=!1,document.getElementById("game-buttons").classList.add("hidden"),game.Evaluate(),setTimeout(()=>{game.NextRound()},2e3)}))})},game.Evaluate=function(){var e,a;!game.prediction&&game.selectedCard.value<=game.activeCard.value||game.prediction&&game.selectedCard.value>=game.activeCard.value?(game.multiplierCount++,game.multiplierCount>=game.multiplierGoal&&(game.multiplierCount=0,gApp.multiplier++,gUI.multiplier.innerHTML=`x${gApp.multiplier} Score Multiplier!`,gUI.multiplier.classList.add("active"),(e=gUI.El("div",gUI.betFrame,"ricardo")).appendChild(game.ricardoGif),gApp.PlaySound(gApp.sounds.ricardo),setTimeout(()=>{e.remove()},2500)),a=game.CalculateOdds(),gApp.PlaySound(gApp.sounds.win),game.win=!0,gApp.wins+=+gApp.multiplier,gApp.pot+=a[game.prediction],gUI.score.innerHTML=gApp.wins):(gApp.PlaySound(gApp.sounds.lose),game.win=!1,gApp.wins=0,gApp.pot=0)},game.Deal=function(){var e=document.getElementById("game-cards");e.innerHTML="",e.classList.add("hidden");gCards.Div();for(var a=0;a<3;a++){var t=gUI.Col("game-card");e.appendChild(t);var n=gCards.Div();t.appendChild(n),n.addEventListener("click",e=>{game.canPlay&&(game.canPlay=!1,game.RevealCard(e))})}},game.ResetPrediction=function(){var e=game.CalculateOdds(),a=document.getElementById("low-odds");a&&(a.innerHTML="<b>Win:</b> "+e[0].toFixed(2)+"$");a=document.getElementById("high-odds");a&&(a.innerHTML="<b>Win:</b> "+e[1].toFixed(2)+"$");e=document.getElementById("game-buttons");e&&e.classList.remove("hidden");e=document.getElementById("low-btn");e&&e.classList.remove("hidden");e=document.getElementById("high-btn");e&&e.classList.remove("hidden")},game.NextRound=function(){game.win?(game.TakeCard(),game.Deal(),win=!1,game.canPredict=!0,game.canPlay=!1,gApp.canCashout=!0,gUI.ToggleCashout()):(game.Reset(),game.NewGame())},game.Cashout=function(){gApp.money+=gApp.pot,gApp.pot=0,gUI.title.innerHTML=gApp.money.toFixed(2)+"$",game.gameType="paid",game.UpdateLeaderboard(),game.Reset(),game.NewGame()},game.UpdateLeaderboard=function(){var e;document.getElementById("leaderboard");gApp.wins>gApp.bestStreak&&(gApp.bestTotal=gApp.money,gApp.bestStreak=gApp.wins,console.log("New best score!"),(e=new XMLHttpRequest).open("POST",window.location.href,!0),e.setRequestHeader("Content-Type","application/json"),e.send(JSON.stringify({name:game.playerName,wallet:game.playerWallet,wins:gApp.wins,money:gApp.money,token:game.token})),e.onload=function(){console.log("HELLO"),console.log(this.responseText)})};